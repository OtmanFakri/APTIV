<div class="w-full ">
  <div class=" flow-root w-full">
    <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
        <div class="flex items-end justify-end">
          <nz-range-picker [(ngModel)]="date" (ngModelChange)="onChange($event)"></nz-range-picker>
        </div>
        <table class="min-w-full divide-y divide-gray-300">
          <thead>
          <tr>
            <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">Date</th>
            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Date dÃ©but</th>
            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Date fin</th>
            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Nb jour</th>
            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Date Entre</th>
            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Validation</th>
          </tr>
          </thead>
          <tbody
            class="divide-y divide-gray-200">
          <tr
            (click)="showModal(item)"
            *ngFor="let item of certificates?.items"
          >
            <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0">{{ item.date | date: 'dd/MM/yyyy' }}</td>
            <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{item.date_start | date: 'dd/MM/yyyy'}} </td>
            <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{item.date_end | date: 'dd/MM/yyyy'}}</td>
            <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{item.nbr_days}}</td>
            <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{item.date_entry | date: 'dd/MM/yyyy'}}</td>
            <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{item.validation}}</td>
          </tr>
          <nz-modal
            [(nzVisible)]="isVisible"
            class="w-full"
            [nzTitle]="selectedItem?.id?.toString()"
            nzWidth="80%"
            [nzOkLoading]="isOkLoading"
            [nzFooter]="modalFooterTemplate"
            (nzOnCancel)="handleCancel()"
          >
            <div class="w-full" *nzModalContent>
              <app-show-certification [item]="selectedItem"></app-show-certification>
            </div>
          </nz-modal>

          <ng-template #modalFooterTemplate>
              <button nz-button nzType="default" (click)="handleCancel()">Custom Cancel</button>
              <button nz-button nzType="primary" [nzLoading]="isOkLoading" (click)="handleOk()">Custom OK</button>
          </ng-template>

          </tbody>
        </table>

        <div class="w-full">
          <app-pagination [currentPage]="currentPage" [totalPages]="totalPages" (pageChange)="onPageChange($event)"></app-pagination>
        </div>
      </div>
    </div>
  </div>
</div>





