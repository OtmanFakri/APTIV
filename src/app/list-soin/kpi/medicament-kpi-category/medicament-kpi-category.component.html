<div class="flex flex-wrap">
  <div class="md:w-3/4 w-full pb-6 md:pb-0 md:pr-6">
    <div class="rounded border-gray-300 dark:border-gray-700 border-dashed border-2">
      <div class="flex items-center justify-between mb-4">
        <div id="chart-legend" class="flex"></div>
        <nz-segmented [nzOptions]="options"
                      [(ngModel)]="options[0]"
                      (nzValueChange)="handleIndexChange($event)"></nz-segmented>
      </div>
      <canvas width="800" height="300" #categoryCanvas *ngIf="indexTabs === 0"></canvas>
      <canvas width="800" height="300" #departmentCanvas *ngIf="indexTabs === 1"></canvas>
      <canvas width="800" height="300" #gendreCanvas *ngIf="indexTabs === 2"></canvas>

    </div>
  </div>

  <div class="md:w-1/4 w-full">
    <div class="rounded border-gray-300 dark:border-gray-700 border-dashed border-2">
      <table class="min-w-full divide-y divide-gray-200">
        <thead>
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total Usage</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Avg Medicament per
            Soin
          </th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Soin Count</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of tableData">
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ item.category ?? item.department }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ item.total_usage }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ item.avg_medicament_per_soin | number: '1.2-2' }}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ item.soin_count }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
