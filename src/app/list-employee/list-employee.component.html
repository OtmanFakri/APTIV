<div class="px-4 sm:px-6 lg:px-8">
  <div class="sm:flex sm:items-center justify-between">
    <div class="relative">
            <span class="absolute inset-y-0 left-0 flex items-center pl-3">
                <svg class="w-5 h-5 text-gray-400" viewBox="0 0 24 24" fill="none">
                <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            </span>

      <input type="text" class="w-full py-3 pl-10 pr-4 text-gray-700 bg-white border rounded-md focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40" placeholder="Search">
    </div>
    <div class="flex  space-x-2 mt-4 sm:ml-16 sm:mt-0 sm:flex-none">
      <div
        routerLink="new"
        class="bg-primary-500 rounded-[10px] p-5 flex flex-row gap-2.5 items-center justify-center h-[50px] relative"
      >
        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M11 7V15M15 11H7M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z"
            stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <button
          class="btn bg-primary font-medium text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover:bg-accent-focus dark:focus:bg-accent-focus dark:active:bg-accent/90">
          Add New Employee
        </button>
      </div>
      <div
        (click)="isFilterOpen = !isFilterOpen"
        class="
        cursor-pointer
        rounded-xl border-solid border-gray-gray-20percent border p-5 flex flex-row gap-2.5 items-center justify-center w-[117px] h-[50px] relative"
      >
        <svg
          class="shrink-0 w-6 h-6 relative overflow-visible"
          style=""
          width="25"
          height="24"
          viewBox="0 0 25 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3.5 6H10.5"
            stroke="#16151C"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M3.5 12H12.5"
            stroke="#16151C"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M19.5 12H21.5"
            stroke="#16151C"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M14.5 6L21.5 6"
            stroke="#16151C"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M13.5 18H20.5"
            stroke="#16151C"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M3.5 18H6.5"
            stroke="#16151C"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <circle cx="8.5" cy="18" r="2" stroke="#16151C" stroke-width="1.5"/>
          <circle cx="17.5" cy="12" r="2" stroke="#16151C" stroke-width="1.5"/>
          <circle cx="12.5" cy="6" r="2" stroke="#16151C" stroke-width="1.5"/>
        </svg>
        <div
          class="text-dark-500 text-left font-body-1-regular-font-family text-body-1-regular-font-size leading-body-1-regular-line-height font-body-1-regular-font-weight relative"
        >
          Filtre
        </div>
      </div>
      <nz-drawer
        [nzClosable]="false"
        [nzVisible]="isFilterOpen"
        nzPlacement="right"
        nzTitle="Filter Employees"
        [nzFooter]="footerTpl"
        (nzOnClose)="isFilterOpen = !isFilterOpen"
      >
        <ng-container class="h-screen" *nzDrawerContent>
          <app-filter-employee />
        </ng-container>
        <ng-template #footerTpl>
          <div style="float: right">
            <button
              type="button"
              (click)="clearFilters()"
              [disabled]="isLoading"
              class="px-6 py-2 min-w-[120px] text-center text-violet-600 border border-violet-600 rounded hover:bg-violet-600 hover:text-white active:bg-indigo-500 focus:outline-none focus:ring"
            >
              Clear Filters
            </button>

          </div>
        </ng-template>
      </nz-drawer>
    </div>
  </div>
  <div class="mt-8 flow-root">

    <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
        <nz-table  #headerTable
                   nzShowPagination="false"
                   [nzData]="listEmployee?.items ?? []" [nzScroll]="{ y: '400px' }">
          <thead>
          <tr>
            <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">Nom</th>
            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Titre</th>
            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Category</th>
            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Contre maitre</th>
          </tr>
          </thead>
          <tbody class="divide-y divide-gray-200 bg-white">
          <tr
            class="cursor-pointer"
            [routerLink]="['/Employee', user.id]"
            *ngFor="let user of listEmployee?.items">
            <td class="whitespace-nowrap py-5 pl-4 pr-3 text-sm sm:pl-0">
              <div class="flex items-center">
                <div class="h-11 w-11 flex-shrink-0"
                     style="background-color:{{ getRandomColor(user?.first_name) }}">
                  <div class="h-11 w-11 rounded-full flex items-center justify-center text-white">
                    {{ user?.last_name?.substring(0, 2)?.toUpperCase() }}
                  </div>
                </div>

                <div class="ml-4">
                  <div
                    class="font-medium text-gray-900">{{ user?.first_name }} {{ user?.last_name }}</div>
                  <div class="mt-1 text-gray-500">{{ user?.id }}</div>
                </div>
              </div>
            </td>
            <td class="whitespace-nowrap px-3 py-5 text-sm text-gray-500">
              <div class="text-gray-900">job Title</div>
              <div class="mt-1 text-gray-500">{{ user?.department_name }}</div>
            </td>
            <td class="whitespace-nowrap px-3 py-5 text-sm text-gray-500">
              <span
                class="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20">{{ user?.category }}</span>
            </td>
            <td
              class="whitespace-nowrap px-3 py-5 text-sm text-gray-500">{{ user?.manager_name }}</td>
          </tr>
          </tbody>
        </nz-table>
      </div>
      <app-pagination [currentPage]="currentPage" [totalPages]="totalPages" (pageChange)="onPageChange($event)"></app-pagination>
    </div>
  </div>
</div>
