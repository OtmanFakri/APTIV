<div class="flex flex-col gap-2.5 items-start justify-start relative">
  <div class="flex flex-col w-full gap-4 items-start justify-start shrink-0 absolute left-5 top-5">
    <div class="shrink-0 h-14 static">
      <div class="flex w-full flex-row gap-5 items-start justify-start absolute left-0 top-0">
        <nz-steps
          (nzIndexChange)="onIndexChange($event)"
          class="flex items-start justify-between w-full"
          [nzCurrent]="current" nzSize="small">
          <!-- Step 1: Données personnelles -->
          <nz-step
            [nzStatus]="current === 0 ? 'process' : (personeInformation.valid ? 'finish' : 'error')"
            [nzIcon]="current === 0 ? 'loading' : ''"
            nzTitle="Données personnelles">
          </nz-step>

          <!-- Step 2: Données professionnelles -->
          <nz-step
            [nzStatus]="current === 0 ? 'wait' : (current === 1 ? 'process' : (professionalInformation.valid ? 'finish' : 'error'))"
            [nzIcon]="current === 1 ? 'loading' : ''"
            nzTitle="Données personnelles">
          </nz-step>

        </nz-steps>
      </div>
    </div>

    <form
      class="w-full"
      [formGroup]="multipleForm" (ngSubmit)="next()">

      <app-persone-information
        *ngIf="current === 0"
        [parentForm]="personeInformation"></app-persone-information>

      <app-professional-information
        *ngIf="current === 1"
        [parentForm]="professionalInformation"
       />

      <div class="flex justify-end px-4">
        <div
                class="bg-indigo-700 lg:max-w-[143px] w-full py-3 px-2 rounded md:mt-12 mt-9 hover:bg-indigo-600 transition duration-300 ease-in-out cursor-pointer"
        >
          <div class="flex gap-2 items-center justify-center">
            <button
                    (click)="onSubmit()"
                    [disabled]="(current === 0 && !personeInformation.valid) ||
                            (current === 1 && !professionalInformation.valid)"
                    class="text-white">{{ (current < 1) ? 'Next Step' : 'Save' }}</button>
            <svg
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
            >
              <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M5.21967 2.96967C4.92678 3.26256 4.92678 3.73744 5.21967 4.03033L9.18934 8L5.21967 11.9697C4.92678 12.2626 4.92678 12.7374 5.21967 13.0303C5.51256 13.3232 5.98744 13.3232 6.28033 13.0303L10.7803 8.53033C11.0732 8.23744 11.0732 7.76256 10.7803 7.46967L6.28033 2.96967C5.98744 2.67678 5.51256 2.67678 5.21967 2.96967Z"
                      fill="white"
              />
            </svg>
          </div>
        </div>
      </div>
    </form>

  </div>
</div>
