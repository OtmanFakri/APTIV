<div class="flex flex-col gap-2.5 items-start justify-start relative">
    <div class="flex flex-col w-full gap-4 items-start justify-start shrink-0 absolute left-5 top-5">
        <div class="shrink-0 h-14 static">
            <div class="flex w-full flex-row gap-5 items-start justify-start absolute left-0 top-0">
                <nz-steps
                        (nzIndexChange)="onIndexChange($event)"
                        class="flex items-start justify-between w-full"
                        [nzCurrent]="current" nzSize="small">
                    <!-- Step 1: Données personnelles -->
                    <nz-step
                            [nzStatus]="current === 0 ? 'process' : (personeInformation.valid ? 'finish' : 'error')"
                            [nzIcon]="current === 0 ? 'loading' : ''"
                            nzTitle="Données personnelles">
                    </nz-step>

                    <!-- Step 2: Données professionnelles -->
                    <nz-step
                            [nzStatus]="current === 0 ? 'wait' : (current === 1 ? 'process' : (professionalInformation.valid ? 'finish' : 'error'))"
                            [nzIcon]="current === 1 ? 'loading' : ''"
                            nzTitle="Données personnelles">
                    </nz-step>

                </nz-steps>
            </div>
        </div>

        <form
                class="w-full"
                [formGroup]="multipleForm" (ngSubmit)="next()">

            <app-persone-information
                    *ngIf="current === 0"
                    [parentForm]="personeInformation"></app-persone-information>

            <app-professional-information
                    *ngIf="current === 1"
                    [parentForm]="professionalInformation"
            />

            <div class="flex justify-end px-4">
                <button
                        nzType="primary"
                        nz-button
                        [nzLoading]="IsCreated"
                        (click)="onSubmit()"
                        [disabled]="(current === 0 && !personeInformation.valid) ||
                            (current === 1 && !professionalInformation.valid)"
                        class="text-white">{{ (current < 1) ? 'Next Step' : 'Save' }}</button>
            </div>
        </form>

    </div>
</div>
